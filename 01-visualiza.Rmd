# Nuevo proyecto {#visualiza}

Recuerda, trabajaremos en un *script* de **R**, no en la *Consola*. Adem치s lo haremos de forma segura y organizada creando un *RStudio Project*:

* Ir a *File > New Project...*
* Podemos crear un nuevo directorio donde guardar nuestros scripts, figuras, datos, etc.;
* Por ejemplo, en el Escritorio creamos el proyecto "*intro_R*";
* Siempre que trabajemos en este proyecto, "*intro_R*" ser치 nuestro *Working Directory*
* Ahora, creamos un nuevo script "*plots_mpg.R*" y a programar!

## Paquetes

Necesitamos cargar el paquete `tidyverse`:

```{r, eval=TRUE}
library(tidyverse)
```

Notamos que este comando carga a su vez una serie de paquetes, no solo uno. Los *conflictos* son importantes a tener en cuenta porque indican que dos paquetes diferentes comparten el mismo nombre para una funci칩n. Por ejemplo, la funci칩n `select` est치 repetida tanto en el paquete `dplyr` como en el paquete `MASS`. Si cargamos ambos paquetes en nuestro script, entonces para evitar conflictos debemos especificar `dplyr::select(...)` o `MASS::select(...)`.

## Datos

Vamos a trabajar con los **data frames** `mpg`:

```{r}
mpg
```

y `diamonds` de `ggplot2`:

```{r}
head(diamonds, n = 10)
```

Un *data frame* es una colecci칩n rectangular de datos donde las variables est치n organizadas por columnas y las observaciones por filas. Si ejecutamos `?mpg` (o `?diamonds`) el panel de Ayuda brinda una descripci칩n de los datos.

## Visualizaci칩n con R base

Nos vamos a concentrar en las variables `displ` y `hwy`:

```{r}
plot(mpg$displ, mpg$hwy)
```

Esto es un *diagrama de dispersi칩n*. Si hacemos `?plot` vemos las caracter칤sticas que podemos variar. Por ejemplo:

```{r}
plot(mpg$displ, mpg$hwy,
     main = "Consumo de combustible",
     xlab = "Cilindrada (litros)",
     ylab = "Consumo (millas por gal칩n)", 
     pch = 5,
     col = "red")
```

## Visualizaci칩n con `ggplot2`

El modelo b치sico para crear un *ggplot* tiene la forma:

```{r, eval=F}
ggplot(data = <DATA>) + 
  <GEOM_FUNCTION>(mapping = aes(<MAPPINGS>))
```

As칤 que para emular el gr치fico previo hacemos:

```{r}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = displ, y = hwy))
```

... m치s sobre `ggplot` el 21/10 con Pablo Morala 游땔.

### Ejercicios

1. Hacer el diagrama de dispersi칩n de `hwy` vs. `cyl` 쯤u칠 crees del gr치fico obtenido?
2. 쯈u칠 pasa si hacemos el diagrama de `class` vs. `drv`? 쯣or qu칠 crees que hay menos puntos?
3. Exploremos los gr치ficos que podemos hacer con `R base`: [r-graph-gallery.com/base-R](https://r-graph-gallery.com/base-R.html)  

